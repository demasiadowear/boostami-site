<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Boostami Admin</title>
  <!-- Carica prima lo script -->
  <script src="https://unpkg.com/netlify-cms@^2.10.0/dist/netlify-cms.js"></script>
</head>
<body>
  <!-- Aggiungi un loader visivo -->
  <div id="cms-status" style="padding: 20px; font-family: sans-serif;">
    <h2>Stato CMS:</h2>
    <p>Caricamento in corso...</p>
  </div>

  <script>
    // Attendi che la pagina sia completamente caricata
    document.addEventListener('DOMContentLoaded', function() {
      try {
        CMS.init({ 
          config: "/admin/config.yml"
        });
        document.getElementById('cms-status').innerHTML = `
          <h2 style="color: green;">✅ CMS pronto!</h2>
          <p>Ora puoi effettuare il login</p>
        `;
      } catch (error) {
        document.getElementById('cms-status').innerHTML = `
          <h2 style="color: red;">❌ Errore</h2>
          <p>${error.message}</p>
          <p>Controlla la connessione o aggiorna la pagina</p>
        `;
      }
    });
  </script>
</body>
</html>
